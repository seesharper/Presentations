 <html>
  <head>
    <title>.Net Core</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Open+Sans);
      @import url(http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Open Sans'; }
      code {
        -moz-border-radius: 5px;
        -web-border-radius: 5px;
        background: #e7e8e2;
        border-radius: 5px;        
      }
      h1, h2, h3 {
        font-family: 'Open Sans';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Droid Sans Mono', font-weight : normal; }
    </style>
  </head>
  <body>
    <textarea id="source">

# Bernhard Richter (@bernhardrichter)

* Systemutvikler i Trondheim
* 46 Ã¥r
* 3 barn, 1 kone, hus, hytte og to katter

---
![](mouse.jpg "Logo Title Text 1")


---
# .Net Core

* What is is?
* Why
* What does it mean for us?
---

# A little bit of history

* .Net Framework 1.0 released 13 February 2002

* The Common Language Infrastructure (CLI) is an open specification (ECMA 335)

* .Net Framework and Mono are just implementations of this specification.

* Mono(Miguel de Icaza) Initial Release June 2004 (Prerelease versions existed as early as 2001)

https://www.ecma-international.org/publications/standards/Ecma-335.htm

https://time.graphics/line/78368

---

# Why .Net Core 

* Multiple implementations of the specification (.Net Framework, SilverLight, Mono)
* A single implementation designed to be cross platform 
* Being able to release new versions of .Net Core independently of Windows versions
* Define a new standard to express the API level for a given library/application (NetStandard).
* Open Source 

https://github.com/microsoft

---

# NuGet

* Every single dependency is a NuGet package.
* This allows us to cherry pick only the dependencies we need rather than depending on the full .Net Framework.
* If a bug is found within one of these packages, it can be adressed and released much faster than on .Net Framework.
* Meta packages
* Global NuGet cache

https://www.nuget.org/packages/Microsoft.AspNetCore.All/2.0.6

https://www.nuget.org/packages/System.Collections/


---



# Net Standard

"The .NET Standard is a formal specification of .NET APIs that are intended to be available on all .NET implementations. The motivation behind the .NET Standard is establishing greater uniformity in the .NET ecosystem."

* Relevant for all implentations of the CLI (Mono, .Net Framework, .Net Core)

* Replaces PCL's (Portable class libraries).

* With NetStandard2.0 we start to see NuGet packages that are NetStandard2.0 only.

* The need for cross compilation becomes less relevant as the standard emerges. 
---

# Portable Class Libraries

## PCL Hell

https://github.com/seesharper/LightInject/blob/116c47e5ea2613e5ec22b133f38e7c78928b4481/LightInject/LightInject.cs

## NetStandard

https://github.com/seesharper/LightInject/blob/master/src/LightInject/LightInject.cs


---

# Portable Class Libraries

![](PCL.png "Logo Title Text 1")
---
![](PCL2.png "Logo Title Text 1")
---
![](netstandard.png "Logo Title Text 1")
---

# The new project file format (CSPROJ)

* Less verbose
* Package references
* Folder based project structure 
* Can be used for all target frameworks. 

#Demo

---

---
# DotNet CLI 

* Create and manage projects from the commmand line
* Project templates
* Extensible (dotnet-script, dotnet-serve)
* Cross platform
* Can be used for all target frameworks.

# Demo
---

# Our first .Net Core application

* Create a new project using the DotNet CLI
* Add package references
* Build and publish 
* Framework-dependent vs self-contained deployment.

# Demo

---
# Cross compilation

* Allows a single project to be compiled for multiple frameworks.
* net46/netcoreapp2.0
* Mostly relevant for the host process.
* Libraries should be .Net Standard 2.0

---

# Code coverage

* Still only available using VS Enterprise Edition
* CI platforms such as AppVeyor don't provide Enterprise edition.
* OpenCover
* DebugType - Full vs Portable

---

# Asp.Net Core
 
* No dependency to System.Web (IIS)
* Typically behind IIS as a reverse proxy
* Asp.Net Core 2.1 allows applications to be hosted as a true IIS application.
* Runs on top of .Net Core and .Net Framework.

---

# Asp.Net Core

![](aspnetcore20.png "Logo Title Text 1")

---

# Oracle

* Waited a LONG time before implementing a driver for .Net Core/Netstandard
* Available as a NuGet package (ETA Q3 2018)
* "Old" managed driver can still be used for projects targeting the full framework (cross compilation).

---


# Kestrel 

"Kestrel is a cross-platform web server for ASP.NET Core based on libuv, a cross-platform asynchronous I/O library. Kestrel is the web server that's included by default in ASP.NET Core project templates."

* Performance
* Cross platform

https://www.techempower.com/benchmarks/#section=data-r15&hw=ph&test=plaintext

---

# DotNet Global Tools 

* Allows global extensions to the DotNet CLI.
* Provides the same semantics as global NPM modules

```
dotnet install tool -g dotnet-serve
```

---

# dotnet-script

* https://github.com/filipw/dotnet-script
* C# scripting on .Net Core
* Inline NuGet support
* Support for debugging in VS Code 

#Demo

---







    </textarea>
    <script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript">

    </script>
    <script type="text/javascript">
      var hljs = remark.highlighter.engine;
    </script>
     <script type="text/javascript">
      var slideshow = remark.create({
          highlightStyle: 'monokai',
          highlightLanguage: 'cs',
          ratio : '16:9'
        }) ;
    </script>
  </body>
</html>

